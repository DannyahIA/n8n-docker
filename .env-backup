# ===========================================
# CONFIGURAÇÃO GERAL DO AMBIENTE BACKUP
# ===========================================
ENVIRONMENT=development
TZ=America/Sao_Paulo

# ===========================================
# CONFIGURAÇÕES DO N8N
# ===========================================
# Configuração básica do N8N
N8N_HOST=
N8N_USER=
N8N_PASSWORD=
N8N_ENCRYPTION_KEY=n8n-backup-encryption-key-change-in-production

# URLs e Webhooks
WEBHOOK_URL=http://localhost:5679/
N8N_SECURE_COOKIE=false

# Configurações recomendadas (corrige avisos de deprecação)
N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true
DB_SQLITE_POOL_SIZE=5
N8N_RUNNERS_ENABLED=true
N8N_BLOCK_ENV_ACCESS_IN_NODE=false
N8N_GIT_NODE_DISABLE_BARE_REPOS=true

# ===========================================
# CONFIGURAÇÕES DO BANCO POSTGRESQL
# ===========================================
POSTGRES_DATABASE=backup_database
POSTGRES_USERNAME=backup_user
POSTGRES_PASSWORD=BackupSecurePass123!

# ===========================================
# CONFIGURAÇÕES DO EVOLUTION API
# ===========================================
# Servidor Evolution
EVOLUTION_SERVER_NAME=evolution_backup
EVOLUTION_SERVER_URL=http://localhost:8081

# CORS e Logs
EVOLUTION_CORS_ORIGIN=*
EVOLUTION_LOG_LEVEL=ERROR,WARN,DEBUG,INFO,LOG

# Webhook Global
EVOLUTION_WEBHOOK_GLOBAL_ENABLED=false
EVOLUTION_WEBHOOK_GLOBAL_URL=

# API Key para autenticação
EVOLUTION_API_KEY=BackupEvolutionKey429683C4C977415CAAFCCE10F7D57E11

# ===========================================
# CONFIGURAÇÕES DO TYPEBOT
# ===========================================
# URLs do Typebot
TYPEBOT_NEXTAUTH_URL=http://localhost:3001
TYPEBOT_VIEWER_URL=http://localhost:3002

# Secrets e Encryption
TYPEBOT_NEXTAUTH_SECRET=typebot-backup-nextauth-secret-change-me
TYPEBOT_ENCRYPTION_SECRET=typebot-backup-encryption-secret-change-me

# S3 Configuration (para armazenamento de arquivos)
TYPEBOT_S3_ACCESS_KEY=minio_backup_access_key
TYPEBOT_S3_SECRET_KEY=minio_backup_secret_key
TYPEBOT_S3_BUCKET=typebot-backup
TYPEBOT_S3_ENDPOINT=http://localhost:9000

# Configurações de acesso
TYPEBOT_DISABLE_SIGNUP=false

# ===========================================
# INTEGRAÇÃO TYPEBOT + EVOLUTION
# ===========================================
TYPEBOT_ENABLED=true

# ===========================================
# CONFIGURAÇÕES DE CACHE REDIS
# ===========================================
REDIS_URL=redis://redis:6379/6
REDIS_PREFIX=backup_

# ===========================================
# CONFIGURAÇÕES DE STORAGE (S3/MinIO)
# ===========================================
# Para usar com MinIO local ou AWS S3
S3_ENABLED=false
S3_ACCESS_KEY=backup_access_key
S3_SECRET_KEY=backup_secret_key
S3_BUCKET=backup-storage
S3_ENDPOINT=s3.amazonaws.com
S3_REGION=us-east-1
S3_USE_SSL=true

# ===========================================
# CONFIGURAÇÕES DE SEGURANÇA
# ===========================================
# Chaves de API e tokens
JWT_SECRET=backup-jwt-secret-key-very-secure
API_SECRET=backup-api-secret-key

# ===========================================
# CONFIGURAÇÕES DE DESENVOLVIMENTO
# ===========================================
DEBUG=true
NODE_ENV=development
LOG_LEVEL=debug

# ===========================================
# PORTAS PERSONALIZADAS (Para evitar conflitos)
# ===========================================
# N8N na porta 5679
N8N_PORT=5679

# Evolution API na porta 8081
EVOLUTION_PORT=8081

# Typebot Builder na porta 3001
TYPEBOT_BUILDER_PORT=3001

# Typebot Viewer na porta 3002
TYPEBOT_VIEWER_PORT=3002

# Nginx Proxy Manager
NGINX_HTTP_PORT=8080
NGINX_HTTPS_PORT=4443
NGINX_ADMIN_PORT=8181

# PostgreSQL (interno)
POSTGRES_PORT=5432

# Redis (interno)
REDIS_PORT=6379

# ===========================================
# CONFIGURAÇÕES AVANÇADAS DO EVOLUTION API
# ===========================================
# Session Config
CONFIG_SESSION_PHONE_CLIENT=Evolution API Backup
CONFIG_SESSION_PHONE_NAME=Chrome

# QR Code
QRCODE_LIMIT=30
QRCODE_COLOR=#175197

# Webhook Events (principais)
WEBHOOK_EVENTS_QRCODE_UPDATED=true
WEBHOOK_EVENTS_MESSAGES_SET=true
WEBHOOK_EVENTS_MESSAGES_UPSERT=true
WEBHOOK_EVENTS_CONNECTION_UPDATE=true
WEBHOOK_EVENTS_CONTACTS_SET=true
WEBHOOK_EVENTS_CHATS_SET=true

# Database Settings
DATABASE_SAVE_DATA_INSTANCE=true
DATABASE_SAVE_DATA_NEW_MESSAGE=true
DATABASE_SAVE_MESSAGE_UPDATE=true
DATABASE_SAVE_DATA_CONTACTS=true
DATABASE_SAVE_DATA_CHATS=true
DATABASE_SAVE_DATA_LABELS=true
DATABASE_SAVE_DATA_HISTORIC=true

# Cache Settings
CACHE_REDIS_ENABLED=true
CACHE_REDIS_TTL=604800
CACHE_REDIS_PREFIX_KEY=evolution_backup

# Authentication
AUTHENTICATION_EXPOSE_IN_FETCH_INSTANCES=true

# ===========================================
# CONFIGURAÇÕES OPCIONAIS
# ===========================================
# Telemetry e Metrics
TELEMETRY_ENABLED=false
PROMETHEUS_METRICS=false

# Proxy settings (se necessário)
PROXY_HOST=
PROXY_PORT=
PROXY_PROTOCOL=
PROXY_USERNAME=
PROXY_PASSWORD=